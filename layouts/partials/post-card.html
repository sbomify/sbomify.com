{{- $post := .post -}}
{{- $dark := .dark -}}
{{- $headingLevel := .headingLevel | default "h3" -}}
<a
  href="{{ $post.RelPermalink }}"
  class="group flex flex-col justify-between rounded-2xl p-8 hover:shadow-xl transition-all duration-300 h-full {{ if $dark }}bg-[#201B4C] border border-[#37306B] hover:border-[#8A7DFF]{{ else }}bg-white border border-gray-200 hover:border-[#8A7DFF]{{ end }}"
>
  <div class="flex-grow">
    {{ if eq $headingLevel "h2" }}
    <h2 class="text-2xl font-semibold leading-tight mb-4 group-hover:text-[#8A7DFF] transition-colors duration-200 {{ if $dark }}text-white{{ else }}text-primaryText{{ end }}">
      {{ $post.Title | truncate 180 }}
    </h2>
    {{ else }}
    <h3 class="text-2xl font-semibold leading-tight mb-4 group-hover:text-[#8A7DFF] transition-colors duration-200 {{ if $dark }}text-white{{ else }}text-primaryText{{ end }}">
      {{ $post.Title | truncate 180 }}
    </h3>
    {{ end }}
    <p class="text-base leading-relaxed line-clamp-3 {{ if $dark }}text-gray-300{{ else }}text-secondaryText{{ end }}">{{ $post.Summary | plainify | truncate 140 "..." }}</p>
  </div>
  <div class="flex items-center justify-between pt-6 mt-6 {{ if $dark }}border-t border-[#37306B]{{ else }}border-t border-gray-100{{ end }}">
    <div class="text-sm {{ if $dark }}text-gray-400{{ else }}text-gray-500{{ end }}">
      {{ with $post.Params.author }}{{ with .display_name }}
      <span class="font-medium {{ if $dark }}text-gray-300{{ else }}text-gray-600{{ end }}">
        {{ . }}
      </span>
      <span class="mx-2">&bull;</span>
      {{ end }}{{ end }}
      <span>
        {{ $post.Date.Format "Jan 2. 2006" }}
      </span>
    </div>
    <span class="text-[#8A7DFF] text-sm font-medium opacity-0 group-hover:opacity-100 transition-opacity duration-200">
      Read more &rarr;
    </span>
  </div>
</a>
