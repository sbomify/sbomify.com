<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Sbomify</title><link>https://sbomify.com/tags/tutorial/</link><description>Your Security Artifact Hub. From zero to SBOM hero. Generate, manage, and share SBOMs and compliance documents. Built for CRA compliance and seamless integration with your existing tools.</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Mon, 18 Nov 2024 00:00:00 +0000</lastBuildDate><atom:link href="https://sbomify.com/tags/tutorial/" rel="self" type="application/rss+xml"/><item><title>The C conundrum - generating SBOMs when there&amp;#39;s no lockfile</title><link>https://sbomify.com/2024/11/18/c-conundrum/</link><pubDate>Mon, 18 Nov 2024 00:00:00 +0000</pubDate><guid>https://sbomify.com/2024/11/18/c-conundrum/</guid><description>&lt;p>Generating an SBOM for something created in a modern language like Dart, Go,
Python or Rust is pretty easy. Dependencies are declared using the language&amp;rsquo;s
package manager, the package manager creates a .lock file, and then an SBOM
can be generated from the .lock file. Under the hood sbomify uses
&lt;a href="https://trivy.dev/">Trivy&lt;/a> to do that, and other tools like
&lt;a href="https://github.com/anchore/syft">Syft&lt;/a> do the same.&lt;/p>
&lt;p>There&amp;rsquo;s no package manager for C though, at least not a universally used one.&lt;/p>
&lt;p>That&amp;rsquo;s a huge problem, because apps developed using modern languages where
it&amp;rsquo;s easy to create SBOMs are the very tip of an iceberg where stuff developed
in C is both the rest of the visible iceberg and everything beneath the
surface - the apps we know are written in C, and the numerous libraries etc.
that they&amp;rsquo;re built on top of.&lt;/p>
&lt;p>How are people going to comply with Executive Order 14028 (in the US) and
the forthcoming Cyber Resilience Act (CRA) in the EU if they&amp;rsquo;re dealing with
that iceberg of C?&lt;/p>
&lt;p>Where there are package managers we can reasonably expect their maintainers
to start churning out SBOMs. &lt;a href="https://www.yoctoproject.org/">The Yocto Project&lt;/a>,
which builds embedded Linux distributions, has taken an early lead with their
machinery for
&lt;a href="https://docs.yoctoproject.org/dev/dev-manual/sbom.html">Creating a Software Bill of Materials&lt;/a>.
It&amp;rsquo;s also reasonable to expect that major distributions like Debian and Red Hat
will follow suit. They do after all have all the metadata that&amp;rsquo;s needed, and
they&amp;rsquo;ve already spent years on careful curation.&lt;/p>
&lt;p>But what about all the apps that aren&amp;rsquo;t in major distro package managers?
There are a few pieces to the puzzle out there, but not yet a complete
solution.&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://github.com/DEMCON/cmake-sbom">cmake-sbom&lt;/a> can add the SBOM creation
process to CMake (a popular tool for building C projects), but a lot of the
data entry (and subsequent maintenance) is manual. This perhaps provides the
boilerplate for NTIA compliance, but doesn&amp;rsquo;t really help with upstream
dependencies.&lt;/li>
&lt;li>&lt;a href="https://www.zephyrproject.org/">Zephyr&lt;/a> has the ability to generate SPDX
for the embedded systems it creates, based on earlier work in
&lt;a href="https://github.com/swinslow/cmake-spdx">cmake-spdx&lt;/a>. But that hasn&amp;rsquo;t
yet been cycled back into a generic tool that could be used by other
CMake based projects.&lt;/li>
&lt;li>&lt;a href="https://conan.io/">Conan&lt;/a> is a package manager for C/C++, with many popular
dependencies already present there. That opens the door to generating SBOMs
from &lt;code>conan.lock&lt;/code> files, but right now the resulting files (at least those
generated by Syft) are of very poor quality, with incomplete CFEs.&lt;/li>
&lt;li>&lt;a href="https://github.com/intel/cve-bin-tool">cve-bin-tool&lt;/a> can generate an SBOM
from the libraries it finds in a binary, but:
&lt;ul>
&lt;li>Only a limited subset of libraries are discoverable to the tool.&lt;/li>
&lt;li>When generating SBOMs from test binaries they were of poor quality.&lt;/li>
&lt;li>cve-bin-tool flags binaries and the libraries they contain as being
vulnerable even when they&amp;rsquo;ve been patched to fix the relevant CVE, implying
a naive matching mechanism.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a href="https://github.com/trailofbits/it-depends">it-depends&lt;/a> finds nothing
(and it seems it&amp;rsquo;s a
&lt;a href="https://github.com/trailofbits/it-depends/issues/66">known issue&lt;/a>
despite the README saying it supports CMake projects).&lt;/li>
&lt;/ul>
&lt;p>Thankfully efforts are underway to resolve these problems. C (and C++) is
lined up for
&lt;a href="https://github.com/CISA-SBOM-Community/SBOM-Generation?tab=readme-ov-file#phase-3">Phase 3&lt;/a>
of the SBOM Generation Reference Implementations within the CISA SBOM
Community; and the working group had a call in the past week to look at
what&amp;rsquo;s already working and where effort can most effectively be applied
to provide tools for a broader range of projects.&lt;/p>
&lt;p>This is a guest post from &lt;a href="https://cpswan.net">Chris Swan&lt;/a>, an Engineer at
&lt;a href="https://atsign.com">Atsign&lt;/a> who are an early adopter of sbomify.&lt;/p></description><category>guide</category></item><item><title>How to generate an SBOM from a Docker container</title><link>https://sbomify.com/2024/09/20/how-to-generate-an-sbom-from-a-container/</link><pubDate>Fri, 20 Sep 2024 00:00:00 +0000</pubDate><guid>https://sbomify.com/2024/09/20/how-to-generate-an-sbom-from-a-container/</guid><description>&lt;p>A lot of people are asking about how one can generate an SBOM based on a Docker container. It seems to be a good idea, since a lot of modern software is shipped in Docker containers, so it&amp;rsquo;s completely understandable why this is appealing.&lt;/p>
&lt;h2 id="why-you-shouldnt-generate-an-sbom-from-a-docker-container">Why You Shouldn&amp;rsquo;t Generate an SBOM from a Docker Container&lt;/h2>
&lt;p>Before we dive into &lt;em>how&lt;/em> to generate an SBOM from a Docker container, let&amp;rsquo;s first talk about why you shouldn&amp;rsquo;t do it this way. Or rather, what the limitations of generating an SBOM from a Docker container are.&lt;/p>
&lt;p>Generally speaking, Docker containers will come with a set of system packages and runtime dependencies. Once you&amp;rsquo;ve installed your dependencies, you usually have a final step where you copy in your actual application codebase. There are, of course, countless exceptions to this (and multi-stage builds make things even murkier).&lt;/p>
&lt;p>Now, capturing the system packages and runtime dependencies from a Docker container (assuming you&amp;rsquo;re not using an obscure flavor) is a fairly straightforward task. If you go to our &lt;a href="https://sbomify.com/resources/">resources&lt;/a>, you can find a few tools that can do this well. Perhaps the most popular ones at the time of this writing ar Syft and Trivy. In our &lt;a href="https://github.com/sbomify/sbom-benchmarks">sbom-benchmark&lt;/a> repository, you can see that both of these jobs do a good job in capturing this.&lt;/p>
&lt;p>The problem is not with these packages, but rather what happens in the following layers. For instance, if you copy in a binary of sorts into your Docker container, more or less no SBOM generation tool will be able to capture this. This is because the tools usually are looking at the system package database to construct the list. If this list is incomplete (e.g. you&amp;rsquo;re copying in a binary), or tampered with, none of these tools will pick it up.&lt;/p>
&lt;p>Tools like Syft and Trivy are however pretty good at picking up installed packages from various programming languages, but the quality will vary from language to language.&lt;/p>
&lt;p>You have been warned. Proceed with caution.&lt;/p>
&lt;p>Our recommendation is to separate the container SBOM from the application SBOM. This way you use more customized tooling in order to achieve a more accurate SBOM.&lt;/p>
&lt;h2 id="how-to-generate-an-sbom-form-a-container-image">How to generate an SBOM form a container image&lt;/h2>
&lt;p>You can find a number of tools on our &lt;a href="https://sbomify.com/resources/">resources&lt;/a> page that can be used for generating SBOMs. Let&amp;rsquo;s go though one-by-one how to do this. You can find a complete example in our &lt;a href="https://github.com/sbomify/sbom-benchmarks">sbom-benchmark&lt;/a> repository.&lt;/p>
&lt;h3 id="syft">Syft&lt;/h3>
&lt;p>You first need to install &lt;a href="https://github.com/anchore/syft">Syft&lt;/a>, and then run it with the following command:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ syft &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:stable &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o cyclonedx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &amp;gt; syft.cdx.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will generate an SBOM in CycloneDX format, and save it to &lt;code>syft.cdx.json&lt;/code>.&lt;/p>
&lt;p>Would you rather generate a SPDX SBOM, you can do this by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ syft &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:stable &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o spdx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> &amp;gt; syft.spdx.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="trivy">Trivy&lt;/h3>
&lt;p>You can download &lt;a href="https://github.com/aquasecurity/trivy">Trivy&lt;/a>, and then run it with the following command to generate an SBOM in CycloneDX format, and save it to &lt;code>trivy.cdx.json&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ trivy image &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --format cyclonedx &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --output trivy.cdx.json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:stable
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Would you rather generate a SPDX SBOM, you can do this by running:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ trivy image &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --format spdx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --output trivy.spdx.json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:stable
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="docker-desktop">Docker Desktop&lt;/h3>
&lt;p>If you have Docker Desktop installed, you can also use this to generate an SBOM in SPDX format, and save it to &lt;code>docker.spdx.json&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ docker sbom &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> â€“-format spdx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:stable &amp;gt; docker.spdx.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>It&amp;rsquo;s worth noting that Docker is largely using Syft behind the scene. Docker is doing some extra things, but it also is more restrictive in output formats. We covered more about this in &lt;a href="https://sbomify.com/2024/04/07/how-to-create-an-sbom/">this blog post&lt;/a>.&lt;/p>
&lt;h3 id="sbomify-action">sbomify action&lt;/h3>
&lt;p>You can also use the &lt;a href="https://github.com/marketplace/actions/sbomify">sbomify SBOM Generation tool&lt;/a> directly in GitHub as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>- &lt;span style="color:#f92672">name&lt;/span>: &lt;span style="color:#ae81ff">Upload SBOM&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">uses&lt;/span>: &lt;span style="color:#ae81ff">sbomify/github-action@master&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">env&lt;/span>:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">TOKEN&lt;/span>: &lt;span style="color:#ae81ff">${{ secrets.SBOMIFY_TOKEN }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">COMPONENT_ID&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;my-component-id&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">DOCKER_IMAGE&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;nginx:stable&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">COMPONENT_NAME&lt;/span>: &lt;span style="color:#e6db74">&amp;#39;nginx-container&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">COMPONENT_VERSION&lt;/span>: &lt;span style="color:#ae81ff">${{ github.ref_name }}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">AUGMENT&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#f92672">ENRICH&lt;/span>: &lt;span style="color:#66d9ef">true&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>For more details on using the GitHub Action and other CI/CD integrations, see our &lt;a href="https://sbomify.com/features/integrations/">integrations page&lt;/a>.&lt;/p></description><category>guide</category></item><item><title>Comprehensive Guide to Generating and Understanding SBOMs with Docker and Django-CMS</title><link>https://sbomify.com/2024/05/27/comprehensive-guide-to-generating-and-understanding-sboms-with-docker-and-django-cms/</link><pubDate>Mon, 27 May 2024 16:18:25 +0200</pubDate><guid>https://sbomify.com/2024/05/27/comprehensive-guide-to-generating-and-understanding-sboms-with-docker-and-django-cms/</guid><description>&lt;p>It&amp;rsquo;s fair to say that SBOMs (Software Bill of Materials) is a rapidly emerging field. Many vendors, like Docker and GitHub, now offer tools to automatically generate SBOMs for you. That&amp;rsquo;s great, but maybe we should first start by asking ourselves what should really go into an SBOM.&lt;/p>
&lt;p>The simplest answer to this question is that it should include everything that makes up your software. Thus, things like dependencies (such as open source libraries used) should go into the SBOM. This is where it gets a bit murkier.&lt;/p>
&lt;p>What about dependencies that you&amp;rsquo;re only using for testing, such as a unit test library? This is never used in the production environment, so it&amp;rsquo;s more like a soft dependency.&lt;/p>
&lt;p>But what about your runtime environment? If you&amp;rsquo;re using a dockerized runtime environment, it&amp;rsquo;s relatively easy to determine what&amp;rsquo;s part of your application stack, but less so if you&amp;rsquo;re running on bare metal or in a Virtual Machine (VM). You could argue that you need to generate an SBOM from your Infrastructure-as-Code (IaC), such as Terraform/OpenTofu or Ansible, which holds the truths about your runtime environment. That is, assuming you even pin the releases of all of this.&lt;/p>
&lt;p>It&amp;rsquo;s also important to point out that an SBOM is not an absolute truth for a product. It&amp;rsquo;s just true at the time of generation and might change the next time you fire off a build in your CI/CD pipeline. This largely depends on how strictly you pin your dependencies (and how strictly your dependencies pin their dependencies). It is, however, important to stress that SBOM generation needs to be part of your CI/CD pipeline to be relevant.&lt;/p>
&lt;p>Your mileage may vary, but to keep things simple, for the sake of this article, let&amp;rsquo;s focus on the &amp;lsquo;hard dependencies,&amp;rsquo; meaning things that are required for your software to work. Let&amp;rsquo;s also assume that your application is running in Docker to keep things simple and that everything that goes inside your Dockerfile is a hard requirement.&lt;/p>
&lt;p>A project can, of course, span multiple services (e.g., microservices), but let&amp;rsquo;s again keep things simple and focus on a single monolith application that lives inside a single Docker container.&lt;/p>
&lt;h3 id="an-example-project-django-cms">An Example Project: Django-CMS&lt;/h3>
&lt;p>To make things more realistic, let&amp;rsquo;s use the open-source project &lt;a href="https://github.com/django-cms/django-cms/">Django CMS&lt;/a> and their &lt;a href="https://github.com/django-cms/django-cms-quickstart">Django CMS Quickstart&lt;/a> as the basis for our exploration.&lt;/p>
&lt;p>Taking a closer look at this example, we will find a &lt;code>requirements.txt&lt;/code> file as expected for a Python project. There are several tools we can use to generate an SBOM for this file, including &lt;a href="https://github.com/CycloneDX/cyclonedx-python">cyclonedx-python&lt;/a>, which will generate an SBOM in CycloneDX format:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ cyclonedx-py requirements &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> requirements.txt &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o sbom.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>There are other tools, like &lt;a href="https://github.com/opensbom-generator/spdx-sbom-generator">spdx-sbom-generator&lt;/a>, that can generate SBOMs in SPDX format (rather than CycloneDX as we used above).&lt;/p>
&lt;p>Now that we have our SBOM for the application layer, we can move on to the &lt;code>Dockerfile&lt;/code> to build an SBOM for our Docker environment. We can do this as follows:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ docker build . -t django-cms
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>...&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ docker sbom &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> --format cyclonedx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> -o docker-sbom.json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> django-cms
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now we have two files:&lt;/p>
&lt;ul>
&lt;li>&lt;code>sbom.json&lt;/code>&lt;/li>
&lt;li>&lt;code>docker-sbom.json&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Let&amp;rsquo;s take a look at them:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ wc -l sbom.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">1053&lt;/span> sbom.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ wc -l docker-sbom.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">48162&lt;/span> docker-sbom.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Whoa! The first SBOM is just over 1,000 lines, whereas the one from Docker is ~48 times that size. Why is that? As it turns out, Docker will actually do more than just give you information about the runtime. In fact, it gives you an SBOM for the runtime and your application stack. Under the hood, &lt;code>docker sbom&lt;/code> uses &lt;a href="https://github.com/anchore/syft">syft&lt;/a>, which is capable of generating SBOMs for Python too. Thus, we can disregard our first SBOM.&lt;/p>
&lt;p>The elegant thing about extracting our SBOM from a Docker container over a &lt;code>requirements.txt&lt;/code> file is that assuming we are building our Docker containers correctly and not bundling our test dependencies in there, we have solved for this in the process.&lt;/p>
&lt;h3 id="but-wait-what-about-sub-dependencies">But wait, what about sub-dependencies?&lt;/h3>
&lt;p>Fantastic question! If we go back to django-cms, we notice that there is a dependency outside of Python by the presence of &lt;a href="https://github.com/django-cms/django-cms/blob/develop-4/package.json">&lt;code>package.json&lt;/code>&lt;/a> (and &lt;code>package-lock.json&lt;/code>). If we randomly pick a dependency in there (such as babel-runtime), we can indeed prove that this is missing:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ grep babel-runtime docker-sbom.json
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">[&lt;/span>...&lt;span style="color:#f92672">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This is where it gets tricky. If there is a vulnerability in this package, a surface-level exploration of the SBOM with a tool like &lt;a href="https://osv.dev/">osv-scanner&lt;/a> would not pick up on this. This is generally known as transitive dependencies. To address this, we need to &amp;ldquo;explode&amp;rdquo; the SBOM, but that&amp;rsquo;s outside the scope of this article.&lt;/p></description><category>guide</category></item><item><title>How to create an SBOM</title><link>https://sbomify.com/2024/04/07/how-to-create-an-sbom/</link><pubDate>Sun, 07 Apr 2024 11:32:45 +0200</pubDate><guid>https://sbomify.com/2024/04/07/how-to-create-an-sbom/</guid><description>&lt;div class="bg-blue-50 border-l-4 border-blue-500 p-6 my-8 rounded-r-lg">
&lt;div class="flex items-start">
&lt;div class="flex-shrink-0">
&lt;svg class="h-6 w-6 text-blue-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
&lt;path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
&lt;/svg>
&lt;/div>
&lt;div class="ml-4">
&lt;h3 class="text-lg font-semibold text-blue-800 mt-0">ðŸ“˜ Updated Guides Available&lt;/h3>
&lt;p class="text-blue-700 mt-2 mb-0">This article provides a general overview, but we now have more comprehensive and up-to-date guides available. Check out our &lt;a href="https://sbomify.com/guides/" class="font-semibold underline hover:text-blue-900">SBOM Generation Guides&lt;/a> for language-specific instructions covering Python, JavaScript, Go, Rust, Java, Docker, and many more.&lt;/p>
&lt;/div>
&lt;/div>
&lt;/div>
&lt;p>In the evolving landscape of software development and cybersecurity, the importance of creating a Software Bill of Materials (SBOM) has never been more critical. As organizations and developers seek to enhance transparency and security in their software supply chain, understanding how to generate an SBOM efficiently becomes a foundational step. This article serves as a comprehensive guide on how to create, generate, and build an SBOM, ensuring that you&amp;rsquo;re equipped with the knowledge to improve your software&amp;rsquo;s integrity and trustworthiness. By detailing the process of generating an SBOM, we aim to empower developers and organizations alike to take proactive steps in securing their software ecosystems against vulnerabilities and threats.&lt;/p>
&lt;h3 id="using-docker">Using Docker&lt;/h3>
&lt;p>If you are using a recent version of Docker Engine, you can generate an SBOM directly from the &lt;code>docker&lt;/code> command. While this feature is still &lt;a href="https://docs.docker.com/engine/sbom/">flagged as experimental&lt;/a>, it is indeed supported out of the box.&lt;/p>
&lt;p>To do this, simply run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>$ docker sbom &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> â€“-format spdx-json &lt;span style="color:#ae81ff">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#ae81ff">&lt;/span> nginx:latest &amp;gt; docker-sbom.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will generate a file called &lt;code>docker-sbom.json&lt;/code>, which is an SBOM for the &lt;code>nginx:latest&lt;/code> docker image in your current directory. In this example, we&amp;rsquo;re using the &lt;a href="https://spdx.dev">SPDX&lt;/a> SBOM format, but other formats are supported, including:&lt;/p>
&lt;ul>
&lt;li>syft-json&lt;/li>
&lt;li>cyclonedx-xml&lt;/li>
&lt;li>cyclonedx-json&lt;/li>
&lt;li>github-0-json&lt;/li>
&lt;li>spdx-tag-value&lt;/li>
&lt;li>pdx-json&lt;/li>
&lt;li>table&lt;/li>
&lt;li>text&lt;/li>
&lt;/ul>
&lt;p>The default value is table.&lt;/p>
&lt;h3 id="using-github">Using GitHub&lt;/h3>
&lt;p>GitHub also supports generating SBOM in a few ways:&lt;/p>
&lt;ul>
&lt;li>Using the GitHub Command Line Interface&lt;/li>
&lt;li>Using the Export feature in Dependency Graph&lt;/li>
&lt;li>Using the RESTful API&lt;/li>
&lt;/ul>
&lt;p>Note that GitHub currently only allows you to export SBOMs in the SPDX format.&lt;/p>
&lt;h4 id="using-the-command-line-interface">Using the Command Line Interface&lt;/h4>
&lt;p>To enable the SBOM feature in the GitHub CLI, you need to first install the SBOM extension:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gh ext install advanced-security/gh-sbom
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>With the extension installed, you can generate an SBOM directly from your terminal using the &lt;code>gh sbom&lt;/code> command. To use this, simply jump into the GitHub repository you want to generate an SBOM for, and then run:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gh sbom &amp;gt; my-sbom.json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>This will generate a file called &lt;code>my-sbom.json&lt;/code> in your current working directory.&lt;/p>
&lt;p>There&amp;rsquo;s also a GitHub Actions workflow &lt;a href="https://github.com/marketplace/actions/sbom-generator-action">available&lt;/a> that allows you to build the SBOM during your CI/CD run.&lt;/p>
&lt;h4 id="using-dependency-graph">Using Dependency Graph&lt;/h4>
&lt;p>Navigate to your GitHub repository in your browser. Then go to:&lt;/p>
&lt;ul>
&lt;li>Insights&lt;/li>
&lt;li>Dependency Graph&lt;/li>
&lt;li>Export SBOM&lt;/li>
&lt;/ul>
&lt;h4 id="using-the-restful-api">Using the RESTful API&lt;/h4>
&lt;p>GitHub exposes the same functionality using this &lt;a href="https://docs.github.com/en/rest/dependency-graph/sboms?apiVersion=2022-11-28">RESTful API&lt;/a>.&lt;/p>
&lt;pre tabindex="0">&lt;code>&lt;/code>&lt;/pre></description><category>guide</category></item></channel></rss>