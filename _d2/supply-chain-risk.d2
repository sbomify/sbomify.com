direction: down

Upstream: {
  class: group
  label: "Upstream Supply Chain"

  Open Source: {
    class: primary
    label: "Open Source\nRepositories"
    icon: node_modules/@tabler/icons/icons/outline/git-branch.svg
    width: 160
    height: 100
  }

  Package Registries: {
    class: primary
    label: "Package\nRegistries"
    icon: node_modules/@tabler/icons/icons/outline/package.svg
    width: 150
    height: 100
  }

  Open Source -> Package Registries: {
    class: flow
  }
}

Build: {
  class: group
  label: "Build & Integration"

  CI/CD: {
    class: accent
    label: "CI/CD Pipeline"
    icon: node_modules/@tabler/icons/icons/outline/refresh.svg
    width: 150
    height: 90
  }

  SBOM Generation: {
    class: highlight
    label: "SBOM\nGeneration"
    icon: node_modules/@tabler/icons/icons/outline/checklist.svg
    width: 150
    height: 100
  }

  CI/CD -> SBOM Generation: {
    class: flow-pink
  }
}

Downstream: {
  class: group
  label: "Downstream Distribution"

  Artifact: {
    class: accent
    label: "Release\nArtifact"
    icon: node_modules/@tabler/icons/icons/outline/archive.svg
    width: 150
    height: 100
  }

  Consumers: {
    class: primary
    label: "Consumers &\nCustomers"
    icon: node_modules/@tabler/icons/icons/outline/users.svg
    width: 150
    height: 100
  }

  Artifact -> Consumers: {
    class: flow
  }
}

Upstream.Package Registries -> Build.CI/CD: "Dependencies" {
  class: flow
}

Build.SBOM Generation -> Downstream.Artifact: "Ship with SBOM" {
  class: flow-pink
}
